# API ν…μ¤νΈ κ²°κ³Ό λ³΄κ³ μ„

## π“ ν…μ¤νΈ μ‹¤ν–‰ κ²°κ³Ό μ”μ•½

### β… μ„±κ³µν• ν…μ¤νΈλ“¤

#### 1. κΈ°λ³Έ API ν…μ¤νΈ (`basic.test.ts`)

- **9/9 ν…μ¤νΈ ν†µκ³Ό** β…
- **μ‹¤ν–‰ μ‹κ°„**: 5.258μ΄

**ν†µκ³Όν• ν…μ¤νΈλ“¤:**

- β… λ©ν†  νμ›κ°€μ…μ΄ μ„±κ³µν•΄μ•Ό ν•λ‹¤
- β… λ©ν‹° νμ›κ°€μ…μ΄ μ„±κ³µν•΄μ•Ό ν•λ‹¤
- β… μλ»λ μ—­ν• λ΅ νμ›κ°€μ… μ‹ 400 μ—λ¬κ°€ λ°μƒν•΄μ•Ό ν•λ‹¤
- β… μ¬λ°”λ¥Έ μ •λ³΄λ΅ λ΅κ·ΈμΈμ΄ μ„±κ³µν•΄μ•Ό ν•λ‹¤
- β… μλ»λ μ΄λ©”μΌλ΅ λ΅κ·ΈμΈ μ‹ 401 μ—λ¬κ°€ λ°μƒν•΄μ•Ό ν•λ‹¤
- β… μλ»λ λΉ„λ°€λ²νΈλ΅ λ΅κ·ΈμΈ μ‹ 401 μ—λ¬κ°€ λ°μƒν•΄μ•Ό ν•λ‹¤
- β… μ ν¨ν• ν† ν°μΌλ΅ λ‚΄ μ •λ³΄ μ΅°νκ°€ μ„±κ³µν•΄μ•Ό ν•λ‹¤
- β… ν† ν° μ—†μ΄ λ‚΄ μ •λ³΄ μ΅°ν μ‹ 401 μ—λ¬κ°€ λ°μƒν•΄μ•Ό ν•λ‹¤
- β… μλ»λ ν† ν°μΌλ΅ λ‚΄ μ •λ³΄ μ΅°ν μ‹ 401 μ—λ¬κ°€ λ°μƒν•΄μ•Ό ν•λ‹¤

#### 2. λ©ν†  λ©λ΅ API ν…μ¤νΈ (`mentors-simple.test.ts`)

- **4/5 ν…μ¤νΈ ν†µκ³Ό** β…
- **μ‹¤ν–‰ μ‹κ°„**: 5.064μ΄

**ν†µκ³Όν• ν…μ¤νΈλ“¤:**

- β… λ©ν‹°κ°€ λ©ν†  λ©λ΅μ„ μ΅°νν•  μ μμ–΄μ•Ό ν•λ‹¤
- β… ν† ν° μ—†μ΄ λ©ν†  λ©λ΅ μ΅°ν μ‹ 401 μ—λ¬κ°€ λ°μƒν•΄μ•Ό ν•λ‹¤
- β… React μ¤ν‚¬λ΅ λ©ν† λ¥Ό ν•„ν„°λ§ν•  μ μμ–΄μ•Ό ν•λ‹¤
- β… μ΅΄μ¬ν•μ§€ μ•λ” μ¤ν‚¬λ΅ κ²€μƒ‰ μ‹ λΉ λ°°μ—΄μ„ λ°ν™ν•΄μ•Ό ν•λ‹¤

**μ‹¤ν¨ν• ν…μ¤νΈ:**

- β nameμΌλ΅ μ •λ ¬ νλΌλ―Έν„°κ°€ μ‘λ™ν•΄μ•Ό ν•λ‹¤ (μ •λ ¬ λ΅μ§ μ΄μ)

#### 3. λ§¤μΉ­ μ”μ²­ API ν…μ¤νΈ (`match-simple.test.ts`)

- **11/15 ν…μ¤νΈ ν†µκ³Ό** β οΈ
- **μ‹¤ν–‰ μ‹κ°„**: 4.236μ΄

**ν†µκ³Όν• ν…μ¤νΈλ“¤:**

- β… ν† ν° μ—†μ΄ λ§¤μΉ­ μ”μ²­ μ‹ 401 μ—λ¬κ°€ λ°μƒν•΄μ•Ό ν•λ‹¤
- β… μλ»λ μ”μ²­ ν•μ‹μΌλ΅ λ§¤μΉ­ μ”μ²­ μ‹ 400 μ—λ¬κ°€ λ°μƒν•΄μ•Ό ν•λ‹¤
- β… μ΅΄μ¬ν•μ§€ μ•λ” λ©ν† μ—κ² μ”μ²­ μ‹ 400 μ—λ¬κ°€ λ°μƒν•΄μ•Ό ν•λ‹¤
- β… λ©ν† κ°€ λ°›μ€ μ”μ²­ λ©λ΅μ„ μ΅°νν•  μ μμ–΄μ•Ό ν•λ‹¤
- β… λ©ν‹°κ°€ λ³΄λ‚Έ μ”μ²­ λ©λ΅μ„ μ΅°νν•  μ μμ–΄μ•Ό ν•λ‹¤
- β… μ”μ²­ κ΄€λ ¨ μΈμ¦ ν…μ¤νΈλ“¤

**μ‹¤ν¨ν• ν…μ¤νΈλ“¤:**

- β λ©ν‹°κ°€ λ©ν† μ—κ² λ§¤μΉ­ μ”μ²­μ„ λ³΄λ‚Ό μ μμ–΄μ•Ό ν•λ‹¤ (λ°μ΄ν„°λ² μ΄μ¤ μ΄μ)
- β λ©ν† κ°€ μ”μ²­μ„ μλ½ν•  μ μμ–΄μ•Ό ν•λ‹¤ (404 μ—λ¬)
- β λ©ν† κ°€ μ”μ²­μ„ κ±°μ ν•  μ μμ–΄μ•Ό ν•λ‹¤ (404 μ—λ¬)
- β λ©ν‹°κ°€ μ”μ²­μ„ μ·¨μ†ν•  μ μμ–΄μ•Ό ν•λ‹¤ (404 μ—λ¬)

## π“‹ API μ—”λ“ν¬μΈνΈ ν…μ¤νΈ μ»¤λ²„λ¦¬μ§€

### β… μ™„μ „ν ν…μ¤νΈλ μ—”λ“ν¬μΈνΈλ“¤

| μ—”λ“ν¬μΈνΈ     | λ©”μ„λ“ | μƒνƒ | ν…μ¤νΈ μ‹λ‚λ¦¬μ¤                |
| -------------- | ------ | ---- | ------------------------------ |
| `/api/signup`  | POST   | β…   | μ„±κ³µ μΌ€μ΄μ¤, μ‹¤ν¨ μΌ€μ΄μ¤, κ²€μ¦ |
| `/api/login`   | POST   | β…   | μ„±κ³µ μΌ€μ΄μ¤, μ‹¤ν¨ μΌ€μ΄μ¤, κ²€μ¦ |
| `/api/me`      | GET    | β…   | μΈμ¦λ μ”μ²­, μΈμ¦ μ‹¤ν¨         |
| `/api/mentors` | GET    | β…   | λ©λ΅ μ΅°ν, ν•„ν„°λ§, μΈμ¦        |

### β οΈ λ¶€λ¶„μ μΌλ΅ ν…μ¤νΈλ μ—”λ“ν¬μΈνΈλ“¤

| μ—”λ“ν¬μΈνΈ                       | λ©”μ„λ“ | μƒνƒ | μ΄μ                           |
| -------------------------------- | ------ | ---- | ------------------------------ |
| `/api/match-requests`            | POST   | β οΈ   | μ”μ²­ μƒμ„± μ‹ λ°μ΄ν„°λ² μ΄μ¤ μ΄μ |
| `/api/match-requests/:id/accept` | PUT    | β οΈ   | 404 μ—λ¬ λ°μƒ                  |
| `/api/match-requests/:id/reject` | PUT    | β οΈ   | 404 μ—λ¬ λ°μƒ                  |
| `/api/match-requests/:id`        | DELETE | β οΈ   | 404 μ—λ¬ λ°μƒ                  |

### β ν…μ¤νΈλμ§€ μ•μ€ μ—”λ“ν¬μΈνΈλ“¤

| μ—”λ“ν¬μΈνΈ              | λ©”μ„λ“ | μƒνƒ | μ΄μ                                     |
| ----------------------- | ------ | ---- | --------------------------------------- |
| `/api/profile`          | PUT    | β   | λ³µμ΅ν• λ°μ΄ν„° κµ¬μ΅°λ΅ μΈν• ν…μ¤νΈ λ³µμ΅μ„± |
| `/api/images/:role/:id` | GET    | β   | νμΌ μ—…λ΅λ“/λ‹¤μ΄λ΅λ“ ν…μ¤νΈ λ³µμ΅μ„±      |

## π” λ°κ²¬λ μ΄μλ“¤

### 1. λ°μ΄ν„°λ² μ΄μ¤ κ΄€λ ¨ μ΄μ

```
TypeError: Cannot read properties of undefined (reading 'lastID')
```

- **μ„μΉ**: `src/routes/requests.ts:61`
- **μ›μΈ**: SQLite ν…μ¤νΈ ν™κ²½μ—μ„ λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²° μ΄μ
- **μν–¥**: λ§¤μΉ­ μ”μ²­ μƒμ„± μ‹¤ν¨

### 2. λΌμ°ν… μ΄μ

- λ§¤μΉ­ μ”μ²­ μƒνƒ λ³€κ²½ μ—”λ“ν¬μΈνΈλ“¤μ—μ„ 404 μ—λ¬ λ°μƒ
- API κ²½λ΅λ‚ λ§¤κ°λ³€μ μ²λ¦¬μ— λ¬Έμ κ°€ μμ„ κ°€λ¥μ„±

### 3. μ •λ ¬ κΈ°λ¥ μ΄μ

- `order_by=name` νλΌλ―Έν„°κ°€ μ λ€λ΅ μ‘λ™ν•μ§€ μ•μ
- ν•κµ­μ–΄ μ΄λ¦„ μ •λ ¬μ—μ„ μμƒκ³Ό λ‹¤λ¥Έ κ²°κ³Ό

## π’΅ κ°μ„  μ‚¬ν•­ λ° κ¶μ¥μ‚¬ν•­

### 1. μ¦‰μ‹ μμ •μ΄ ν•„μ”ν• μ‚¬ν•­

- [ ] SQLite ν…μ¤νΈ λ°μ΄ν„°λ² μ΄μ¤ μ΄κΈ°ν™” λ΅μ§ μμ •
- [ ] λ§¤μΉ­ μ”μ²­ λΌμ°ν… κ²½λ΅ ν™•μΈ λ° μμ •
- [ ] λ°μ΄ν„°λ² μ΄μ¤ νΈλμ­μ… μ²λ¦¬ κ°μ„ 

### 2. ν…μ¤νΈ κ°μ„  μ‚¬ν•­

- [ ] λ” μ•μ •μ μΈ ν…μ¤νΈ λ°μ΄ν„° μ„¤μ •
- [ ] λΉ„λ™κΈ° μ²λ¦¬ λ€κΈ° μ‹κ°„ μµμ ν™”
- [ ] μ—λ¬ μΌ€μ΄μ¤μ— λ€ν• λ” μƒμ„Έν• κ²€μ¦

### 3. κΈ°λ¥ κ°μ„  μ‚¬ν•­

- [ ] ν•κµ­μ–΄ μ΄λ¦„ μ •λ ¬ λ΅μ§ κ°μ„ 
- [ ] μ—λ¬ λ©”μ‹μ§€ μΌκ΄€μ„± ν™•λ³΄
- [ ] API μ‘λ‹µ ν•μ‹ ν‘μ¤€ν™”

## π― ν…μ¤νΈ μ„±κ³µλ¥ 

```
μ „μ²΄ ν…μ¤νΈ: 29κ°
μ„±κ³µ: 24κ° (82.8%)
μ‹¤ν¨: 5κ° (17.2%)
```

### μΉ΄ν…κ³ λ¦¬λ³„ μ„±κ³µλ¥ 

- **μΈμ¦ API**: 100% (9/9)
- **λ©ν†  λ©λ΅ API**: 80% (4/5)
- **λ§¤μΉ­ μ”μ²­ API**: 73.3% (11/15)

## π“ κ²°λ΅ 

λ€λ¶€λ¶„μ ν•µμ‹¬ API κΈ°λ¥λ“¤μ΄ μ •μƒμ μΌλ΅ μ‘λ™ν•κ³  μμΌλ©°, νΉν μΈμ¦ κ΄€λ ¨ κΈ°λ¥μ€ μ™„λ²½ν•κ² κµ¬ν„λμ–΄ μμµλ‹λ‹¤. μ£Όμ” λ¬Έμ λ“¤μ€ λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²°κ³Ό νΉμ • μ—”λ“ν¬μΈνΈμ λΌμ°ν… μ΄μμ— μ§‘μ¤‘λμ–΄ μμ–΄, μ΄λ¥Ό μμ •ν•λ©΄ μ „μ²΄μ μΈ API μ•μ •μ„±μ„ ν¬κ² ν–¥μƒμ‹ν‚¬ μ μμ„ κ²ƒμΌλ΅ μμƒλ©λ‹λ‹¤.

ν…μ¤νΈ ν”„λ μ„μ›ν¬λ” μ κµ¬μ¶•λμ–΄ μμ–΄, ν–¥ν›„ μƒλ΅μ΄ κΈ°λ¥ μ¶”κ°€λ‚ κΈ°μ΅΄ κΈ°λ¥ μμ • μ‹ νκ·€ ν…μ¤νΈλ¥Ό ν†µν•΄ μ•μ •μ„±μ„ λ³΄μ¥ν•  μ μμµλ‹λ‹¤.
